from data import db_session
from data.category import Category


def initialize_categories():
    # Список категорий
    categories = [
        # Электроника
        "Смартфоны и телефоны",
        "Компьютеры и ноутбуки",
        "Планшеты",
        "Аудиотехника",
        "Фото и видеотехника",
        "ТВ и мультимедиа",
        "Гаджеты и носимые устройства",
        # Бытовая техника
        "Крупная бытовая техника",
        "Мелкая бытовая техника",
        "Техника для кухни",
        "Климатическая техника",
        # Одежда и аксессуары
        "Мужская одежда",
        "Женская одежда",
        "Детская одежда",
        "Обувь",
        "Сумки и аксессуары",
        "Ювелирные изделия",
        # Красота и здоровье
        "Косметика",
        "Парфюмерия",
        "Средства личной гигиены",
        "Медицинские товары",
        "Оптика",
        # Дом и сад
        "Мебель",
        "Товары для дома",
        "Посуда и кухонные принадлежности",
        "Инструменты",
        "Сад и огород",
        "Строительные материалы",
        # Детские товары
        "Игрушки",
        "Товары для новорожденных",
        "Детское питание",
        "Товары для школы",
        # Продукты питания
        "Продукты питания",
        "Напитки",
        "Здоровое питание",
        # Спорт и отдых
        "Спортивная одежда и обувь",
        "Спортивный инвентарь",
        "Туризм и отдых",
        "Рыбалка и охота",
        # Автотовары
        "Запчасти и аксессуары",
        "Автоэлектроника",
        "Шины и диски",
        "Автохимия и автокосметика",
        # Книги и канцтовары
        "Книги",
        "Канцелярские товары",
        "Учебная литература",
        # Услуги
        "Бытовые услуги",
        "Цифровые услуги",
        "Образовательные услуги",
        # Другое
        "Подарки и сувениры",
        "Товары для животных",
        "Хобби и творчество",
        "Прочее"
    ]

    db_sess = db_session.create_session()

    # Проверяем, есть ли уже категории в базе
    existing_categories = [c.name for c in db_sess.query(Category).all()]

    # Добавляем только новые категории
    for category_name in categories:
        if category_name not in existing_categories:
            category = Category(
                name=category_name,
                description=f"Категория товаров: {category_name}"
            )
            db_sess.add(category)

    db_sess.commit()
    print(f"Добавлено {len(categories) - len(existing_categories)} новых категорий")
    db_sess.close()


if __name__ == "__main__":
    # Инициализируем соединение с базой данных
    db_session.global_init('db/online_store.db')
    initialize_categories()